<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Posto de SaÃºde - Sistema de Agendamento</title>
<style>
*{box-sizing:border-box}
body{font-family:Arial,sans-serif;background:#f0f6fb;margin:0;color:#333}
header{background:#0d6efd;color:#fff;padding:20px;text-align:center}
nav{background:#084298;padding:10px;text-align:center}
nav button{background:#fff;border:none;padding:10px 15px;margin:5px;border-radius:6px;font-weight:bold;color:#084298;cursor:pointer}
nav button:hover{opacity:.9}
.container{max-width:1000px;margin:auto;padding:20px}
.card{background:#fff;padding:20px;border-radius:10px;margin-bottom:20px;box-shadow:0 0 8px rgba(0,0,0,.1)}
h2{color:#084298;margin-top:0}
label{display:block;margin-top:10px;font-weight:bold}
input,select{width:100%;padding:8px;margin-top:5px}
button.action{margin-top:15px;padding:10px 15px;background:#0d6efd;color:#fff;border:none;border-radius:6px;cursor:pointer}
button.action.danger{background:#dc3545}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:8px;text-align:center}
th{background:#e9f1fb;color:#084298}
.disponivel{color:green;font-weight:bold}
.ocupado{color:red;font-weight:bold}
footer{background:#084298;color:#fff;text-align:center;padding:10px}
.info{background:#e7f1ff;padding:10px;border-left:4px solid #0d6efd;margin-bottom:10px}
.badge{display:inline-block;padding:4px 8px;border-radius:6px;background:#eef}
.hidden{display:none}
</style>
</head>
<body>

<header>
  <h1>Posto de SaÃºde Municipal</h1>
  <p>Sistema de Agendamento de Consultas</p>
  <p class="badge" id="statusLogin">Visitante</p>
</header>

<nav>
  <button onclick="mostrar('capa')">ğŸ¥ InÃ­cio</button>
  <button onclick="mostrar('login')">ğŸ” Login</button>
  <button onclick="mostrar('cadastro')">ğŸ“ Cadastro Paciente</button>
  <button onclick="mostrar('profissionais')">ğŸ‘¨â€âš•ï¸ Profissionais</button>
  <button onclick="mostrar('agenda')">ğŸ“… Agenda</button>
  <button onclick="mostrar('agendar')">â• Agendar</button>
  <button onclick="mostrar('lista')">ğŸ“‹ Meus Agendamentos</button>
  <button onclick="mostrar('admin')">ğŸ› ï¸ Admin</button>
</nav>

<div class="container">

<!-- CAPA -->
<div class="card" id="capa">
  <h2>Bem-vinda, VirgÃ­nia ğŸ‘‹</h2>
  <div class="info">
    Este Ã© um protÃ³tipo acadÃªmico de um sistema de agendamento para posto de saÃºde.<br>
    Funcionalidades: login, cadastro de pacientes e profissionais, agenda por dia/horÃ¡rio, agendamento, cancelamento e Ã¡rea administrativa.
  </div>
  <p><b>Curso:</b> TÃ©cnico em InformÃ¡tica</p>
  <p><b>Projeto:</b> Sistema de Agendamento de Consultas</p>
  <p><b>Autora:</b> VirgÃ­nia Aguilar</p>
</div>

<!-- LOGIN -->
<div class="card hidden" id="login">
  <h2>ğŸ” Login</h2>
  <label>CPF</label>
  <input id="loginCpf" placeholder="000.000.000-00">
  <label>Senha</label>
  <input id="loginSenha" type="password">
  <button class="action" onclick="fazerLogin()">Entrar</button>
  <p id="loginMsg"></p>
</div>

<!-- CADASTRO PACIENTE -->
<div class="card hidden" id="cadastro">
  <h2>ğŸ“ Cadastro de Paciente</h2>
  <label>Nome</label><input id="cadNome">
  <label>CPF</label><input id="cadCpf">
  <label>Telefone</label><input id="cadTel">
  <label>Senha</label><input id="cadSenha" type="password">
  <button class="action" onclick="cadastrarPaciente()">Cadastrar</button>
  <p id="cadMsg"></p>
</div>

<!-- PROFISSIONAIS -->
<div class="card hidden" id="profissionais">
  <h2>ğŸ‘¨â€âš•ï¸ Profissionais</h2>
  <label>Nome</label><input id="profNome">
  <label>Especialidade</label><input id="profEsp">
  <button class="action" onclick="cadastrarProfissional()">Adicionar Profissional</button>
  <table id="tabelaProfs">
    <tr><th>Nome</th><th>Especialidade</th></tr>
  </table>
</div>

<!-- AGENDA -->
<div class="card hidden" id="agenda">
  <h2>ğŸ“… Agenda</h2>
  <div class="info">Escolha o profissional e a data para ver horÃ¡rios.</div>
  <label>Profissional</label>
  <select id="profAgenda" onchange="atualizarAgenda()"></select>
  <label>Data</label>
  <input type="date" id="dataAgenda" onchange="atualizarAgenda()">
  <table id="tabelaAgenda">
    <tr><th>HorÃ¡rio</th><th>Status</th></tr>
  </table>
</div>

<!-- AGENDAR -->
<div class="card hidden" id="agendar">
  <h2>â• Agendar Consulta</h2>
  <label>Profissional</label>
  <select id="profAgendar"></select>
  <label>Data</label>
  <input type="date" id="dataAgendar">
  <label>HorÃ¡rio</label>
  <select id="horaAgendar"></select>
  <button class="action" onclick="agendarConsulta()">Confirmar</button>
</div>

<!-- LISTA -->
<div class="card hidden" id="lista">
  <h2>ğŸ“‹ Meus Agendamentos</h2>
  <table id="tabelaAgendamentos">
    <tr><th>Profissional</th><th>Data</th><th>HorÃ¡rio</th><th>Status</th><th>AÃ§Ã£o</th></tr>
  </table>
</div>

<!-- ADMIN -->
<div class="card hidden" id="admin">
  <h2>ğŸ› ï¸ Ãrea Administrativa</h2>
  <div class="info">Lista geral de agendamentos (simulaÃ§Ã£o de atendente).</div>
  <table id="tabelaAdmin">
    <tr><th>Paciente</th><th>Profissional</th><th>Data</th><th>Hora</th><th>Status</th></tr>
  </table>
</div>

</div>

<footer>
  Projeto acadÃªmico - Curso TÃ©cnico em InformÃ¡tica | VirgÃ­nia
</footer>

<script>
const horarios = ["08:00","09:00","10:00","11:00","14:00","15:00","16:00"];
let pacientes = [];
let profissionais = [
  {nome:"Dr. JoÃ£o", esp:"ClÃ­nico"},
  {nome:"Dra. Maria", esp:"Pediatra"},
  {nome:"Dr. Carlos", esp:"Dentista"}
];
let agendamentos = [];
let usuarioLogado = null;

// NavegaÃ§Ã£o
function mostrar(id){
  ["capa","login","cadastro","profissionais","agenda","agendar","lista","admin"].forEach(s=>{
    document.getElementById(s).classList.add("hidden");
  });
  document.getElementById(id).classList.remove("hidden");
}

// Login / Cadastro
function cadastrarPaciente(){
  const nome=cadNome.value, cpf=cadCpf.value, tel=cadTel.value, senha=cadSenha.value;
  if(!nome||!cpf||!senha){ cadMsg.textContent="Preencha os campos obrigatÃ³rios."; return; }
  if(pacientes.some(p=>p.cpf===cpf)){ cadMsg.textContent="CPF jÃ¡ cadastrado."; return; }
  pacientes.push({nome,cpf,tel,senha});
  cadMsg.textContent="Cadastro realizado com sucesso!";
  cadNome.value=cadCpf.value=cadTel.value=cadSenha.value="";
}

function fazerLogin(){
  const cpf=loginCpf.value, senha=loginSenha.value;
  const user = pacientes.find(p=>p.cpf===cpf && p.senha===senha);
  if(!user){ loginMsg.textContent="CPF ou senha invÃ¡lidos."; return; }
  usuarioLogado = user;
  document.getElementById("statusLogin").textContent = "Logado: " + user.nome;
  loginMsg.textContent="Login realizado!";
  mostrar("capa");
}

// Profissionais
function cadastrarProfissional(){
  if(!profNome.value||!profEsp.value) return;
  profissionais.push({nome:profNome.value, esp:profEsp.value});
  profNome.value=profEsp.value="";
  atualizarProfissionais();
}

function atualizarProfissionais(){
  const t = document.getElementById("tabelaProfs");
  t.innerHTML = "<tr><th>Nome</th><th>Especialidade</th></tr>";
  profissionais.forEach(p=>{
    t.innerHTML += `<tr><td>${p.nome}</td><td>${p.esp}</td></tr>`;
  });
  // selects
  const sel1 = document.getElementById("profAgenda");
  const sel2 = document.getElementById("profAgendar");
  sel1.innerHTML = sel2.innerHTML = "";
  profissionais.forEach(p=>{
    const opt = `<option value="${p.nome}">${p.nome} (${p.esp})</option>`;
    sel1.innerHTML += opt;
    sel2.innerHTML += opt;
  });
  // horas
  const selH = document.getElementById("horaAgendar");
  selH.innerHTML = "";
  horarios.forEach(h=> selH.innerHTML += `<option>${h}</option>`);
}

// Agenda
function atualizarAgenda(){
  const prof = profAgenda.value;
  const data = dataAgenda.value;
  const t = document.getElementById("tabelaAgenda");
  t.innerHTML = "<tr><th>HorÃ¡rio</th><th>Status</th></tr>";
  if(!data) return;
  horarios.forEach(h=>{
    const ocupado = agendamentos.some(a=>a.prof===prof && a.data===data && a.hora===h && a.status==="Agendado");
    const st = ocupado ? "<span class='ocupado'>Ocupado</span>" : "<span class='disponivel'>DisponÃ­vel</span>";
    t.innerHTML += `<tr><td>${h}</td><td>${st}</td></tr>`;
  });
}

// Agendar / Cancelar
function agendarConsulta(){
  if(!usuarioLogado){ alert("FaÃ§a login primeiro!"); return; }
  const prof = profAgendar.value;
  const data = dataAgendar.value;
  const hora = horaAgendar.value;
  if(!data){ alert("Escolha uma data"); return; }
  const existe = agendamentos.some(a=>a.prof===prof && a.data===data && a.hora===hora && a.status==="Agendado");
  if(existe){ alert("HorÃ¡rio ocupado!"); return; }
  agendamentos.push({paciente:usuarioLogado.nome, prof, data, hora, status:"Agendado"});
  atualizarAgenda(); atualizarListas();
  alert("Agendado com sucesso!");
  mostrar("lista");
}

function cancelar(idx){
  agendamentos[idx].status = "Cancelado";
  atualizarAgenda(); atualizarListas();
}

// Listas
function atualizarListas(){
  const t = document.getElementById("tabelaAgendamentos");
  t.innerHTML = "<tr><th>Profissional</th><th>Data</th><th>HorÃ¡rio</th><th>Status</th><th>AÃ§Ã£o</th></tr>";
  agendamentos.forEach((a,i)=>{
    if(usuarioLogado && a.paciente===usuarioLogado.nome){
      const btn = a.status==="Agendado" ? `<button class="action danger" onclick="cancelar(${i})">Cancelar</button>` : "-";
      t.innerHTML += `<tr><td>${a.prof}</td><td>${a.data}</td><td>${a.hora}</td><td>${a.status}</td><td>${btn}</td></tr>`;
    }
  });

  const ta = document.getElementById("tabelaAdmin");
  ta.innerHTML = "<tr><th>Paciente</th><th>Profissional</th><th>Data</th><th>Hora</th><th>Status</th></tr>";
  agendamentos.forEach(a=>{
    ta.innerHTML += `<tr><td>${a.paciente}</td><td>${a.prof}</td><td>${a.data}</td><td>${a.hora}</td><td>${a.status}</td></tr>`;
  });
}

// InicializaÃ§Ã£o
atualizarProfissionais();
</script>

</body>
</html>
